"use strict";(self.webpackChunkcar_rental_app=self.webpackChunkcar_rental_app||[]).push([[299],{4:function(n,e,t){t.d(e,{Z:function(){return xn}});var i,r,o,a,c,s,l,d,f,p,x,h,u,g,m,Z,b,j=t(439),v=t(791),w=t(164),y=t(168),k=t(444),P=k.ZP.div(i||(i=(0,y.Z)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(18, 20, 23, 0.5);\n  z-index: 2;\n\n  overflow: auto;\n"]))),C=k.ZP.div(r||(r=(0,y.Z)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n\n  margin: 0 auto;\n  border-radius: 24px;\n  background: #fff;\n\n  z-index: 3;\n"]))),z=k.ZP.div(o||(o=(0,y.Z)(["\n  position: relative;\n  display: flex;\n  padding: 40px;\n  width: 541px;\n\n  flex-direction: column;\n  align-items: flex-start;\n  justify-content: space-between;\n"]))),S=k.ZP.button(a||(a=(0,y.Z)(["\n  position: absolute;\n  top: 16px;\n  right: 16px;\n\n  background-color: transparent;\n  border: none;\n\n  & .icon {\n    width: 24px;\n    height: 24px;\n    stroke: #121417;\n\n    &:hover,\n    &:focus {\n      stroke: #3470ff;\n    }\n  }\n"]))),M=k.ZP.div(c||(c=(0,y.Z)(["\n  position: relative;\n  width: 460px;\n  min-height: 248px;\n  margin-bottom: 14px;\n\n  overflow: hidden;\n\n  border-radius: 14px;\n  background: linear-gradient(\n      180deg,\n      rgba(18, 20, 23, 0.5) 2.5%,\n      rgba(18, 20, 23, 0) 41.07%\n    ),\n    #f3f3f2;\n"]))),E=k.ZP.img(s||(s=(0,y.Z)(["\n  position: absolute;\n  height: 100%;\n  width: 100%;\n\n  object-fit: cover;\n"]))),F=k.ZP.h2(l||(l=(0,y.Z)(["\n  color: #121417;\n  font-size: 18px;\n  font-weight: 500;\n  line-height: 1.5;\n\n  margin-bottom: 8px;\n\n  & .accent {\n    color: #3470ff;\n  }\n"]))),N=k.ZP.p(d||(d=(0,y.Z)(["\n  color: rgba(18, 20, 23, 0.5);\n  font-size: 12px;\n  font-weight: 400;\n  line-height: 1.5;\n\n  width: 277px;\n  margin-bottom: 14px;\n"]))),L=k.ZP.p(f||(f=(0,y.Z)(["\n  color: #121417;\n\n  font-size: 14px;\n\n  font-weight: 400;\n  line-height: 1.43;\n\n  margin-bottom: 24px;\n"]))),I=k.ZP.div(p||(p=(0,y.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  gap: 8px;\n\n  margin-bottom: 24px;\n"]))),_=k.ZP.div(x||(x=(0,y.Z)(["\n  font-size: 14px;\n  font-weight: 500;\n  line-height: 1.43;\n"]))),T=k.ZP.div(h||(h=(0,y.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  gap: 4px;\n"]))),A=k.ZP.p(u||(u=(0,y.Z)(["\n  color: rgba(18, 20, 23, 0.5);\n  font-size: 12px;\n  font-weight: 400;\n  line-height: 1.5;\n"]))),R=(k.ZP.div(g||(g=(0,y.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  gap: 8px;\n\n  margin-bottom: 24px;\n"]))),k.ZP.div(m||(m=(0,y.Z)(["\n  display: flex;\n  align-items: flex-start;\n  flex-wrap: wrap;\n  gap: 8px;\n"])))),q=k.ZP.p(Z||(Z=(0,y.Z)(["\n  display: flex;\n  padding: 7px 14px;\n  justify-content: center;\n  align-items: center;\n\n  border-radius: 35px;\n  background: #f9f9f9;\n\n  color: #363535;\n  font-size: 12px;\n  font-weight: 400;\n  line-height: 1.5;\n  letter-spacing: -0.24px;\n\n  & span {\n    color: #3470ff;\n    font-weight: 600;\n  }\n"]))),B=k.ZP.a(b||(b=(0,y.Z)(["\n  padding: 12px 50px;\n  justify-content: center;\n  align-items: center;\n\n  border-radius: 12px;\n  background: #3470ff;\n\n  color: #fff;\n  font-family: Manrope;\n  font-size: 14px;\n  font-style: normal;\n  font-weight: 600;\n  line-height: 1.43;\n  text-decoration: none;\n\n  &:hover,\n  &:focus {\n    background: #0b44cd;\n  }\n"])));var J,O,U,Y,$,D,G,H,K,Q,V=t.p+"static/media/sprite.53ff95ec62a8342e18aa220a801f53a2.svg",W=t(184),X=document.querySelector("#modal-root"),nn=function(n){var e,t=n.car,i=n.onCloseModal,r=t.id,o=t.address,a=t.fuelConsumption,c=t.type,s=t.model,l=t.img,d=t.make,f=t.year,p=t.engineSize,x=t.description,h=t.accessories,u=t.functionalities,g=t.rentalConditions,m=t.mileage,Z=t.rentalPrice,b=[o.split(", ")[1],o.split(", ")[2],"Id: ".concat(r),"Year: ".concat(f),"Type: ".concat(c.charAt(0).toUpperCase()).concat(c.slice(1).toLowerCase()),"Fuel Consumption: ".concat(a),"Engine Size: ".concat(p)],j=g.split("\n"),y=j[0].split(": ")[1],k=(0,v.useCallback)((function(n){"Escape"===n.code&&i()}),[i]);return(0,v.useEffect)((function(){return window.addEventListener("keydown",k),document.body.style.overflow="hidden",function(){window.removeEventListener("keydown",k),document.body.style.overflow="auto"}}),[k]),(0,w.createPortal)((0,W.jsx)(P,{onClick:function(n){n.currentTarget===n.target&&i()},children:(0,W.jsx)(C,{children:(0,W.jsxs)(z,{children:[(0,W.jsx)(S,{onClick:i,children:(0,W.jsx)("svg",{className:"icon",children:(0,W.jsx)("use",{href:"".concat(V,"#icon-close")})})}),(0,W.jsx)(M,{children:(0,W.jsx)(E,{src:l,alt:"".concat(d," ").concat(s)})}),(0,W.jsxs)(F,{children:[d," ",(0,W.jsx)("span",{className:"accent",children:s}),", ",f]}),(0,W.jsx)(N,{children:b.join(" | ")}),(0,W.jsx)(L,{children:x}),(0,W.jsxs)(I,{children:[(0,W.jsx)(_,{children:"Accessories and functionalities:"}),(0,W.jsxs)(T,{children:[(0,W.jsx)(A,{children:h.join(" | ")}),(0,W.jsx)(A,{children:u.join(" | ")})]})]}),(0,W.jsxs)(I,{children:[(0,W.jsx)(_,{children:"Rental Conditions:"}),(0,W.jsxs)(R,{children:[(0,W.jsxs)(q,{children:["Minimum age: ",(0,W.jsx)("span",{children:y})]}),(0,W.jsx)(q,{children:j[1]}),(0,W.jsx)(q,{children:j[2]}),(0,W.jsxs)(q,{children:["Mileage: ",(0,W.jsx)("span",{children:(e=m,e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))})]}),(0,W.jsxs)(q,{children:["Price: ",(0,W.jsxs)("span",{children:[Z.slice(1),"$"]})]})]})]}),(0,W.jsx)(B,{href:"tel:".concat("+380730000000"),children:"Rental car"})]})})}),X)},en=k.ZP.div(J||(J=(0,y.Z)(["\n  display: flex;\n  width: 274px;\n  flex-direction: column;\n  align-items: flex-start;\n  justify-content: space-between;\n\n  margin-bottom: 21px;\n"]))),tn=k.ZP.div(O||(O=(0,y.Z)(["\n  position: relative;\n  width: 274px;\n  min-height: 268px;\n  margin-bottom: 14px;\n\n  overflow: hidden;\n\n  border-radius: 14px;\n  background: linear-gradient(\n      180deg,\n      rgba(18, 20, 23, 0.5) 2.5%,\n      rgba(18, 20, 23, 0) 41.07%\n    ),\n    #f3f3f2;\n"]))),rn=k.ZP.img(U||(U=(0,y.Z)(["\n  position: absolute;\n  height: 100%;\n  width: 100%;\n\n  object-fit: cover;\n"]))),on=k.ZP.button(Y||(Y=(0,y.Z)(["\n  position: absolute;\n  top: 14px;\n  right: 14px;\n\n  background-color: transparent;\n  border: none;\n\n  & .icon {\n    width: 18px;\n    height: 18px;\n    stroke: #fff;\n    fill: transparent;\n\n    &:hover,\n    &:focus {\n      stroke: #3470ff;\n      fill: #3470ff;\n    }\n\n    &.favorite {\n      stroke: #3470ff;\n      fill: #3470ff;\n    }\n  }\n"]))),an=k.ZP.div($||($=(0,y.Z)(["\n  width: 265px;\n"]))),cn=k.ZP.div(D||(D=(0,y.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n"]))),sn=k.ZP.h2(G||(G=(0,y.Z)(["\n  display: flex;\n  justify-content: space-between;\n\n  color: #121417;\n  font-family: Manrope, sans-serif;\n  font-size: 16px;\n  font-style: normal;\n  font-weight: 500;\n  line-height: 1.5;\n\n  & .make {\n    display: inline-block;\n  }\n\n  & .accent {\n    color: #3470ff;\n  }\n\n  & .price {\n    padding-left: 12px;\n    display: inline-block;\n  }\n"]))),ln=k.ZP.p(H||(H=(0,y.Z)(["\n  color: rgba(18, 20, 23, 0.5);\n  font-size: 12px;\n  font-weight: 400;\n  line-height: 1.5;\n"]))),dn=k.ZP.button(K||(K=(0,y.Z)(["\n  display: flex;\n  width: 274px;\n  height: 44px;\n  padding: 12px;\n  justify-content: center;\n  align-items: center;\n\n  border-color: transparent;\n\n  border-radius: 12px;\n  background: #3470ff;\n\n  color: #fff;\n  font-family: Manrope;\n  font-size: 14px;\n  font-style: normal;\n  font-weight: 600;\n  line-height: 1.43;\n\n  &:hover,\n  &:focus {\n    background: #0b44cd;\n  }\n"]))),fn=function(n){var e=n.car,t=n.setFavorite,i=(0,v.useState)(!1),r=(0,j.Z)(i,2),o=r[0],a=r[1],c=e.id,s=e.address,l=e.rentalCompany,d=e.type,f=e.model,p=e.mileage,x=e.functionalities,h=e.img,u=e.make,g=e.rentalPrice,m=e.year,Z=e.favorite,b=Math.floor(Math.random()*x.length),w=[s.split(", ")[1],s.split(", ")[2],l,d,f,p,x[b]];return(0,W.jsxs)(en,{children:[(0,W.jsxs)(tn,{children:[(0,W.jsx)(rn,{src:h,alt:"".concat(u," ").concat(f)}),(0,W.jsx)(on,{type:"button",onClick:t,isFavorite:Z,id:c,children:(0,W.jsx)("svg",{className:"icon ".concat(Z?"favorite":""),children:(0,W.jsx)("use",{href:"".concat(V,"#icon-heart")})})})]}),(0,W.jsxs)(cn,{children:[(0,W.jsx)(an,{children:(0,W.jsxs)(sn,{children:[(0,W.jsxs)("span",{className:"make",children:[u," ",(0,W.jsx)("span",{className:"accent",children:f}),", ",m]}),(0,W.jsx)("span",{className:"price",children:g})]})}),(0,W.jsx)(ln,{children:w.join(" | ").slice(0,95)})]}),(0,W.jsx)(dn,{type:"button",onClick:function(){a(!0)},children:"Learn more"}),o&&(0,W.jsx)(nn,{car:e,onCloseModal:function(){a(!o)}})]})},pn=k.ZP.ul(Q||(Q=(0,y.Z)(["\n  display: flex;\n  list-style: none;\n  flex-wrap: wrap;\n  gap: 29px;\n  margin-bottom: 79px;\n"]))),xn=function(n){var e=n.cars,t=n.setFavorite,i=e.filter((function(n,t){return e.findIndex((function(e){return e.location===n.location&&e.id===n.id}))===t}));return(0,W.jsx)(W.Fragment,{children:(0,W.jsx)(pn,{children:i.map((function(n){return(0,W.jsx)("li",{children:(0,W.jsx)(fn,{car:n,setFavorite:t})},n.id)}))})})}},299:function(n,e,t){t.r(e),t.d(e,{default:function(){return j}});var i,r,o=t(165),a=t(433),c=t(683),s=t(861),l=t(439),d=t(791),f=t(243),p=function(){var n=(0,s.Z)((0,o.Z)().mark((function n(e){var t;return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f.Z.get("".concat("https://6474cb4d7de100807b1bc2dc.mockapi.io","/cars"),{params:{page:e,limit:8}});case 2:return t=n.sent,n.abrupt("return",t);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),x=t(4),h=t(290),u=t(168),g=t(444),m=g.ZP.div(i||(i=(0,u.Z)(["\n  display: flex;\n  flex-direction: column;\n\n  padding: 50px 128px 150px 128px;\n"]))),Z=g.ZP.button(r||(r=(0,u.Z)(["\n  color: #3470ff;\n  font-family: Manrope;\n  font-size: 16px;\n  font-weight: 500;\n  line-height: 1.5;\n  text-decoration-line: underline;\n  padding: 0 20px;\n\n  border: none;\n  background-color: transparent;\n\n  &:hover,\n  &:focus {\n    color: #0b44cd;\n  }\n"]))),b=t(184),j=function(n){var e=n.cars,t=n.setCars,i=n.favoriteToggle,r=(0,d.useState)(1),f=(0,l.Z)(r,2),u=f[0],g=f[1],j=(0,d.useState)(null),v=(0,l.Z)(j,2),w=v[0],y=v[1],k=(0,d.useState)(!1),P=(0,l.Z)(k,2),C=P[0],z=P[1];return(0,d.useEffect)((function(){var n=function(){var n=(0,s.Z)((0,o.Z)().mark((function n(){var e,i,r;return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,z(!0),e=localStorage.getItem("favs")?JSON.parse(localStorage.getItem("favs")).map((function(n){return n.id})):[],n.next=5,p(u);case 5:i=n.sent,r=i.data.map((function(n){return(0,c.Z)((0,c.Z)({},n),{},{favorite:!!e.includes(n.id)})})),t((function(n){return[].concat((0,a.Z)(n),(0,a.Z)(r))})),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),y("Error happend");case 13:return n.prev=13,z(!1),n.finish(13);case 16:case"end":return n.stop()}}),n,null,[[0,10,13,16]])})));return function(){return n.apply(this,arguments)}}();n()}),[u,t]),(0,b.jsxs)(m,{children:[C&&(0,b.jsx)(h.Z,{}),w&&(0,b.jsx)("div",{children:"Error happend"}),(0,b.jsx)(x.Z,{cars:e,setFavorite:i}),e.length>0&&e.length%8===0&&(0,b.jsx)(Z,{type:"button",onClick:function(){g(u+1)},children:"Load more"})]})}}}]);
//# sourceMappingURL=299.5bf8c3cd.chunk.js.map